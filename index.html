<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vibrant Weather App</title>
  <!-- Load Font Awesome for high-quality, animated icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    /* Global Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    /* Body/Background Styling and Animation */
    body {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      /* Deep Blue Background Gradient */
      background: linear-gradient(135deg, #1f283a, #151e2d);
      overflow: hidden;
      position: relative;
    }

    /* Subtle background glow/flow animation */
    body::before {
        content: '';
        position: absolute;
        width: 200%;
        height: 200%;
        /* Radial light source effect */
        background: radial-gradient(circle at 50% 50%, rgba(31, 40, 58, 0.3) 0%, rgba(21, 30, 45, 0) 70%);
        animation: flowBackground 20s linear infinite;
        pointer-events: none;
    }

    @keyframes flowBackground {
        0% { transform: translate(0, 0); }
        50% { transform: translate(50%, 50%); }
        100% { transform: translate(0, 0); }
    }

    /* Card (Glassmorphism Effect) */
    .card {
      /* Darker, subtle glass effect */
      background: rgba(40, 50, 70, 0.3);
      border-radius: 25px;
      /* Enhanced shadow and neon cyan border effect */
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      color: #ebf4ff; /* Light text */
      padding: 40px 35px;
      text-align: center;
      max-width: 470px;
      width: 90%;
      animation: float 4s ease-in-out infinite; /* Slower, smoother float */
      transition: all 0.3s ease;
      z-index: 10;
    }
    
    .card:hover {
        /* Stronger shadow and a subtle glow on hover */
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7), 0 0 10px #00FFFF; 
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    /* Search Bar */
    .search {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .search input {
      border: none;
      outline: none;
      /* Transparent input with light text */
      background-color: rgba(255, 255, 255, 0.15);
      color: #fff;
      padding: 10px 25px;
      height: 55px; /* Adjusted height */
      border-radius: 30px;
      flex: 1;
      margin-right: 16px;
      font-size: 18px;
      transition: all 0.3s ease;
    }
    .search input::placeholder {
        color: rgba(255, 255, 255, 0.6);
    }

    .search input:focus {
      background-color: rgba(255, 255, 255, 0.3);
      /* Neon cyan ring on focus */
      box-shadow: 0 0 0 2px #00FFFF; 
      transform: scale(1.01);
    }

    .search button {
      border: none;
      outline: none;
      /* Neon Accent Color */
      background: #00FFFF;
      color: #1f283a;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .search button:hover {
      background: #00E5E5;
      transform: scale(1.1);
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
    }

    .search button i { /* Style for Font Awesome icon */
      width: 20px;
      font-size: 20px;
    }

    /* Weather Icon */
    .weather-icon {
      font-size: 150px; /* Use font size */
      color: #FFD700; /* Gold accent color */
      margin: 30px auto;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Springy transition */
      
    }
    /* Add a custom animation for the icon */
    .weather-icon.show {
      opacity: 1;
      transform: translateY(0);
      animation: bounceIn 1s ease-out;
    }

    @keyframes bounceIn {
        0% { transform: scale(0.5); opacity: 0; }
        70% { transform: scale(1.1); opacity: 1; }
        100% { transform: scale(1); }
    }


    .weather h1 {
      font-size: 80px;
      font-weight: 500;
      margin-top: 10px;
      color: #00FFFF; /* Neon cyan for temperature */
      animation: fadeIn 0.6s ease;
    }

    .weather h2 {
      font-size: 40px;
      font-weight: 400;
      margin-top: -10px;
      animation: fadeIn 0.8s ease;
    }

    /* Details Grid */
    .details {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      margin-top: 50px;
    }

    .col {
      display: flex;
      align-items: center;
      text-align: left;
      gap: 10px;
      padding: 10px;
      border-radius: 10px;
      transition: background 0.3s ease;
      cursor: default;
    }
    
    .col:hover {
        background: rgba(255, 255, 255, 0.1); /* Subtle hover highlight */
    }

    .col i { /* Style for Font Awesome detail icons */
      font-size: 32px;
      color: #FFD700; /* Gold accent for detail icons */
    }

    .humidity, .wind {
      font-size: 28px;
      margin-top: -6px;
    }
    
    .col p:last-child {
        font-size: 14px;
        color: rgba(255, 255, 255, 0.8);
    }

    .weather {
      display: none;
      animation: fadeIn 1s ease forwards;
    }

    .error {
      text-align: center;
      font-size: 15px;
      margin-top: 10px;
      color: #FF6347; /* Tomato red for error */
      background: rgba(255, 255, 255, 0.1);
      padding: 8px;
      border-radius: 8px;
      display: none;
    }

    /* Media Queries for Responsiveness */
    @media (max-width: 480px) {
      .card {
        width: 95%;
        padding: 30px 20px;
      }
      .search input {
        font-size: 16px;
        height: 50px;
      }
      .search button {
        width: 50px;
        height: 50px;
      }
      .weather h1 {
        font-size: 60px;
      }
      .weather h2 {
        font-size: 30px;
      }
      .humidity, .wind {
        font-size: 22px;
      }
    }
  </style>
</head>
<body>

  <div class="card">
    <div class="search">
      <input type="text" placeholder="Enter city name" spellcheck="false">
      <!-- Replaced img with Font Awesome icon -->
      <button><i class="fas fa-search"></i></button>
    </div>

    <div class="error">
      <p>❌ Invalid city name. Please try again.</p>
    </div>

    <div class="weather">
      <!-- Replaced img with Font Awesome icon, ready to receive dynamic classes -->
      <i class="fas fa-sun weather-icon"></i>
      <h1 class="temp">22°C</h1>
      <h2 class="city">Sydney</h2>
      <div class="details">
        <div class="col">
          <!-- Replaced img with Font Awesome icon -->
          <i class="fas fa-tint"></i>
          <div>
            <p class="humidity">50%</p>
            <p>Humidity</p>
          </div>
        </div>
        <div class="col">
          <!-- Replaced img with Font Awesome icon -->
          <i class="fas fa-wind"></i>
          <div>
            <p class="wind">15 km/h</p>
            <p>Wind Speed</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const apiKey = "78236e1f4b92cdd51d41141f767420c1";
    const apiUrl = "https://api.openweathermap.org/data/2.5/weather?units=metric&q=";

    const searchBox = document.querySelector(".search input");
    const searchBtn = document.querySelector(".search button");
    const weatherIcon = document.querySelector(".weather-icon");
    const weatherDiv = document.querySelector(".weather");

    async function checkWeather(city) {
      const response = await fetch(apiUrl + city + `&appid=${apiKey}`);

      // Hide icon animation before new data load
      weatherIcon.classList.remove("show");

      if (response.status == 404) {
        document.querySelector(".error").style.display = "block";
        weatherDiv.style.display = "none";
      } else {
        const data = await response.json();
        
        document.querySelector(".city").innerHTML = data.name;
        document.querySelector(".temp").innerHTML = Math.round(data.main.temp) + "°C";
        document.querySelector(".humidity").innerHTML = data.main.humidity + "%";
        
        // Convert wind speed from m/s to km/h and update
        const windSpeedKmH = (data.wind.speed * 3.6).toFixed(1);
        document.querySelector(".wind").innerHTML = windSpeedKmH + " km/h";

        // --- Dynamic Icon Logic using Font Awesome ---
        const weatherCondition = data.weather[0].main;
        
        // Reset class to remove previous weather icon
        weatherIcon.className = "weather-icon"; 

        if (weatherCondition === "Clouds") {
          weatherIcon.classList.add("fas", "fa-cloud");
        } else if (weatherCondition === "Clear") {
          weatherIcon.classList.add("fas", "fa-sun");
        } else if (weatherCondition === "Rain") {
          weatherIcon.classList.add("fas", "fa-cloud-rain");
        } else if (weatherCondition === "Drizzle") {
          weatherIcon.classList.add("fas", "fa-cloud-showers-heavy");
        } else if (weatherCondition === "Mist" || weatherCondition === "Haze" || weatherCondition === "Smoke") {
          weatherIcon.classList.add("fas", "fa-smog");
        } else if (weatherCondition === "Snow") {
          weatherIcon.classList.add("fas", "fa-snowflake");
        } else if (weatherCondition === "Thunderstorm") {
          weatherIcon.classList.add("fas", "fa-cloud-bolt");
        } else {
          weatherIcon.classList.add("fas", "fa-temperature-sun");
        }
        
        // Show weather data and trigger icon animation
        weatherDiv.style.display = "block";
        weatherIcon.classList.add("show");
        document.querySelector(".error").style.display = "none";
      }
    }

    searchBtn.addEventListener("click", () => {
      checkWeather(searchBox.value.trim());
    });

    searchBox.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        checkWeather(searchBox.value.trim());
      }
    });
    
    // Check initial city (if input has a default value)
    window.onload = () => {
        if (searchBox.value.trim() !== '') {
            checkWeather(searchBox.value.trim());
        }
    };
  </script>

</body>
</html>
